package lab.cgcl.requestClient.domain;

import java.io.Serializable;
import java.util.Vector;

public abstract class AccountPool implements Serializable {
	
	private static final long serialVersionUID = -2957887572888833702L;
	private Vector<CaUser> Pool = new Vector<CaUser>();
	private int offset ;
	public Vector<CaUser> getPool() {
		return Pool;
	}
	public void setPool(Vector<CaUser> pool) {
		Pool = pool;
	}
	public int getOffset() {
		return offset;
	}
	public void setOffset(int offset) {
		this.offset = offset;
	}
	public int size() {
		return this.Pool.size();
	}
	
	public abstract void accountInputStream();
	
	public synchronized CaUser getObj() {
		if (this.Pool.size() == 0) 
			return null;
		new Runnable () {
			@Override
			public void run() {
				try {
					Thread.sleep(3000);
				} catch (InterruptedException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
				accountInputStream();
			}
		}.run();
		CaUser user = this.Pool.get(0);
		this.Pool.remove(0);
		return user;
	}
	
}

